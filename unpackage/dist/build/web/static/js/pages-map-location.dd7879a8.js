(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-map-location"],{"75df":function(t,i,e){"use strict";e("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("bf0f"),e("e966");var a=uni.getSystemInfoSync(),n={data:function(){return{orderId:null,markers:[],polyline:[],mapHeight:a.screenHeight,userAddress:{longitude:41.173098,latitude:80.2632808},mapCenter:{longitude:null,latitude:null},riderAddress:{longitude:41.173098,latitude:80.2632808},riderInfo:{id:null,name:null,praise:30,dislike:2,phone:null,avatar:"https://imgs.1op.cn/i/hxshop/avatar/3.png"},praise:100}},onLoad:function(t){t.id&&(this.orderId=t.id),this.init()},mounted:function(){},methods:{init:function(){var t=this;new Promise((function(t,i){uni.getLocation({type:"gcj02",success:function(i){t(i)},fail:function(t){i(t)}})})).then((function(i){t.userAddress={longitude:i.longitude,latitude:i.latitude},t.riderInfo={id:863,name:"闪电骑手",praise:81,dislike:3,phone:"18299989999",avatar:"https://imgs.1op.cn/i/hxshop/avatar/3.png"},t.praise=parseInt(t.riderInfo.praise/(t.riderInfo.praise+t.riderInfo.dislike)*100),t.getRiderAddress(),setInterval((function(){t.getRiderAddress()}),3e3)}),(function(t){console.log("获取失败")}))},getRiderAddress:function(){var t=Math.floor(25*Math.random()+3)/1e4+.015,i=Math.floor(25*Math.random()+3)/1e4+.015;this.riderAddress={latitude:this.userAddress.latitude+t,longitude:this.userAddress.longitude+i},this.markers=[{id:1,callout:{content:"收件地址",color:"#ff9900",padding:"6",borderRadius:"50",textAlign:"left",fontSize:"14",display:"BYCLICK"},latitude:this.userAddress.latitude,longitude:this.userAddress.longitude,iconPath:"/static/img/map_home.png",width:"64",height:"64"},{id:9999,callout:{content:"骑手",color:"#ff9900",padding:"6",borderRadius:"50",textAlign:"left",fontSize:"14",display:"ALWAYS"},latitude:this.riderAddress.latitude,longitude:this.riderAddress.longitude,iconPath:"/static/img/map_qs.png",width:"64",height:"64"}],this.polyline=[{points:[this.userAddress,this.riderAddress],color:"#ff9900",width:10}],this.mapCenter={latitude:this.riderAddress.latitude,longitude:this.riderAddress.longitude}},call:function(){var t=this;this.riderInfo.phone&&uni.makePhoneCall({phoneNumber:""+this.riderInfo.phone,fail:function(i){uni.showModal({title:"提示",content:"自动拨号失败！请手动拨打电话："+t.riderInfo.phone,showCancel:!1,cancelText:"",confirmText:"确认"})}})},submit:function(){uni.showModal({title:"提示",content:"已确认收货"+this.orderId,showCancel:!1,cancelText:"",confirmText:"确认",success:function(t){},fail:function(){},complete:function(){}})}}};i.default=n},"7bce":function(t,i,e){var a=e("c86c");i=a(!1),i.push([t.i,".txt14[data-v-9c306d1a]{font-size:14px}.mt8[data-v-9c306d1a]{margin-top:8px}.mt2[data-v-9c306d1a]{margin-top:2px}.ml6[data-v-9c306d1a]{margin-left:6px}.color-blue[data-v-9c306d1a]{color:#2196f3}.color-dark-gray[data-v-9c306d1a]{color:#888}.main[data-v-9c306d1a]{position:fixed;z-index:999;bottom:30px;left:15px;right:15px;background-color:#fff;border-radius:10px;padding:15px 18px;box-shadow:0 0 10px #b7b7b7;flex-direction:column}.main-top[data-v-9c306d1a]{flex-direction:row;align-items:center;padding-bottom:15px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#eef1f4}.main-top-left[data-v-9c306d1a]{flex-direction:column;flex:1}.main-top-left-txt[data-v-9c306d1a]{font-size:20px;color:#333}.main-top-left-bottom[data-v-9c306d1a]{flex-direction:row;align-items:center}.hxicon-timefill[data-v-9c306d1a]{font-size:14px}.main-bottom[data-v-9c306d1a]{margin-top:15px;flex-direction:row;align-items:center}.main-bottom-row1[data-v-9c306d1a]{width:44px;height:44px;border-radius:50%}.main-bottom-row2[data-v-9c306d1a]{flex-direction:column;flex:1;margin-left:12px}.main-bottom-row2-txt1[data-v-9c306d1a]{font-size:18px;color:#333}.main-bottom-row2-txt2[data-v-9c306d1a]{font-size:14px;color:#333}.main-bottom-txt[data-v-9c306d1a]{font-size:26px;color:#666;padding:5px;margin-left:12px}.bg-active[data-v-9c306d1a]{background-image:linear-gradient(100deg,#e8d536,#dda809)}.btn[data-v-9c306d1a]{background-image:linear-gradient(100deg,#ffeb3b,#ffc107);border-width:0;padding:6px 0;color:#333}",""]),t.exports=i},"970c":function(t,i,e){var a=e("7bce");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("967d").default;n("7be3b296",a,!0,{sourceMap:!1,shadowMode:!1})},bdae:function(t,i,e){"use strict";e.r(i);var a=e("e5b0"),n=e("d4f2");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("e1f8");var d=e("828b"),r=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"9c306d1a",null,!1,a["a"],void 0);i["default"]=r.exports},d4f2:function(t,i,e){"use strict";e.r(i);var a=e("75df"),n=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},e1f8:function(t,i,e){"use strict";var a=e("970c"),n=e.n(a);n.a},e5b0:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-map",{staticClass:"map",style:{width:"750rpx",height:t.mapHeight+"px"},attrs:{latitude:t.mapCenter.latitude,longitude:t.mapCenter.longitude,markers:t.markers,polyline:t.polyline}}),e("v-uni-view",{staticClass:"main"},[e("v-uni-view",{staticClass:"main-top"},[e("v-uni-view",{staticClass:"main-top-left"},[e("v-uni-view",{staticClass:"main-top-left-txt "},[e("v-uni-text",{staticClass:"tit"},[t._v("骑手正在送货")])],1),e("v-uni-view",{staticClass:"main-top-left-bottom mt8"},[e("v-uni-text",{staticClass:"hxicon txt14 color-dark-gray"},[t._v("")]),e("v-uni-text",{staticClass:"txt14 ml6"},[t._v("预计送达")]),e("v-uni-text",{staticClass:"txt14 ml6 color-blue"},[t._v("19:30")])],1)],1),e("v-uni-button",{staticClass:"btn",staticStyle:{width:"100px"},attrs:{size:"mini","hover-class":"bg-active",type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.submit.apply(void 0,arguments)}}},[t._v("确认收货")])],1),e("v-uni-view",{staticClass:"main-bottom"},[e("v-uni-image",{staticClass:"main-bottom-row1",attrs:{src:t.riderInfo.avatar,mode:""}}),e("v-uni-view",{staticClass:"main-bottom-row2"},[e("v-uni-text",{staticClass:"main-bottom-row2-txt1"},[t._v(t._s(t.riderInfo.name))]),e("v-uni-text",{staticClass:"main-bottom-row2-txt2 mt2"},[t._v("满意度："+t._s(t.praise)+"%")])],1),e("v-uni-text",{staticClass:"hxicon main-bottom-txt"},[t._v("")]),e("v-uni-text",{staticClass:"hxicon main-bottom-txt",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.call.apply(void 0,arguments)}}},[t._v("")])],1)],1)],1)},n=[]}}]);