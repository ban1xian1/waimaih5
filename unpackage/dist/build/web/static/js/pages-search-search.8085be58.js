(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"0da5":function(t,i,o){"use strict";o("6a54");var e=o("f5bd").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e(o("5de6"));o("5c47"),o("bf0f"),o("18f7"),o("de6c"),o("aa9c");o("87b6"),uni.getSystemInfoSync().screenHeight;var n={onPageScroll:function(t){var i=this;if(t.scrollTop>10){var o=uni.createSelectorQuery().select(".search-box");o.fields({rect:!0},(function(t){0==t.top?i.GDHEAD=1:i.GDHEAD=0})).exec()}uni.createSelectorQuery().select(".seach_class").boundingClientRect((function(o){uni.getSystemInfo({success:function(e){var a=e.windowHeight,n=o.height,s=n-t.scrollTop-a;s<300&&!1===i.apigoing&&(i.page=i.page+1,i.searchGoods(i.keyword))}})})).exec()},data:function(){return{swiperCurrent:0,transtionTime:100,swiperCurrentSliderLeft:0,tabs:[{name:"Shop"},{name:"Products"}],keyword:"",MPPR:0,GDHEAD:0,showFoot:0,sortIndex:0,storeList:[],page:1,page_num:20,all_num:20,isShow:!1,goodsList:[],apigoing:!1}},onLoad:function(t){t.value&&(this.keyword=t.value)},onShow:function(){this.isShow=!0,""!=this.keyword&&(this.page=1,this.goodsList=[],this.storeList=[],this.searchGoods(this.keyword))},mounted:function(){},methods:{swiperChange:function(t){this.swiperCurrentSliderLeft=100/this.tabs.length*t,this.page=1,this.sortIndex=t,this.goodsList=[],this.storeList=[],this.apigoing=!1,this.searchGoods(this.keyword)},onInput:function(){var t=this;clearTimeout(this.timer);var i=this;this.page=1,this.goodsList=[],this.storeList=[],this.apigoing=!1,this.timer=setTimeout((function(){t.searchGoods(i.keyword)}),1e3)},searchGoods:function(t){t&&!0!==this.apigoing&&(uni.showLoading({title:"Cargando…",mask:!0}),this.apigoing=!0,0!=this.sortIndex?this.getProductList():this.getshopList())},getProductList:function(){var t=this;Promise.all([t.$api.allrequest.productSearch({keyword:t.keyword,page:t.page})]).then((function(i){var o=(0,a.default)(i,1),e=o[0];t.all_num=e.data.data.count,console.log(e.data.data.list);var n=e.data.data.list;if(n.length>0){console.log(n.length);for(var s=0;s<n.length;s++)console.log(e.data.data),t.goodsList.push(n[s]);t.apigoing=!1}uni.hideLoading()})).catch((function(i){console.error("请求出错",i),uni.hideLoading(),uni.showToast({icon:"none",position:"bottom",title:"error！"}),t.apigoing=!1}))},getshopList:function(){var t=this,i=this;Promise.all([i.$api.allrequest.shopSearch({keyword:i.keyword})]).then((function(i){var o=(0,a.default)(i,1),e=o[0];t.storeList=e.data.data.list,uni.hideLoading()})).catch((function(t){console.error("请求出错",t),uni.hideLoading(),uni.showToast({icon:"none",position:"bottom",title:"error！"}),i.apigoing=!1}))},toStore:function(t,i){var o=t.id,e="?sid=".concat(o);null!=i&&(e+="&gid=".concat(i)),uni.navigateTo({url:"/pages/store/index"+e})},jump_index:function(){uni.switchTab({url:"/pages/index/index"})},jump_product:function(t){uni.navigateTo({url:"/pages/product/product?id="+t})},getDtaa:function(){newthis.isShow=!0}}};i.default=n},"586b":function(t,i,o){t.exports=o.p+"static/img/order_icon.png"},"9eb4":function(t,i,o){"use strict";o.d(i,"b",(function(){return a})),o.d(i,"c",(function(){return n})),o.d(i,"a",(function(){return e}));var e={uniIcons:o("8d51").default},a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.isShow?e("v-uni-view",{staticClass:"seach_class"},[e("v-uni-view",{staticClass:"search-box",class:{QZBG:t.GDHEAD},style:t.GDHEAD?"padding-right: "+t.MPPR+"px":""},[e("v-uni-view",{staticClass:"navbar"}),e("v-uni-view",{staticClass:"ctn"},[e("i",{staticClass:"hxicon-back ctn_fist",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.jump_index()}}}),e("v-uni-view",{staticClass:"hx-search-box",staticStyle:{width:"100%"}},[e("v-uni-input",{staticStyle:{width:"100%"},attrs:{placeholder:"Buscar restaurantes, platos o tiendas",type:"text"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.onInput.apply(void 0,arguments)}},model:{value:t.keyword,callback:function(i){t.keyword=i},expression:"keyword"}}),e("uni-icons",{attrs:{type:"search",size:"22",color:"#666666"}})],1)],1)],1),e("v-uni-view",{staticClass:"tabs-box"},[e("v-uni-view",{staticClass:"hx-tabs"},[t._l(t.tabs,(function(i,o){return e("v-uni-view",{key:o,staticClass:"hx-tabs-item",class:{"hx-tabs-active":t.swiperCurrent==o},style:{transition:t.transtionTime+"ms"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.swiperChange(o)}}},[e("v-uni-text",[t._v(t._s(i.name))])],1)})),e("v-uni-view",{staticClass:"hx-tabs-slider-box",style:{width:100/t.tabs.length+"%",transition:t.transtionTime+"ms",left:t.swiperCurrentSliderLeft+"%"}},[e("v-uni-view",{staticClass:"hx-tabs-slider"})],1)],2)],1),t.storeList?e("v-uni-view",{staticClass:" store-box"},t._l(t.storeList,(function(i,o){return e("v-uni-view",{key:o,staticClass:" item-box"},[e("v-uni-view",{staticClass:"container top-box"},[e("v-uni-view",{staticClass:"left ccccccc",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.toStore(i,null)}}},[e("v-uni-image",{attrs:{src:i.image,mode:"aspectFill"}})],1),e("v-uni-view",{staticClass:"right",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.toStore(i,null)}}},[e("v-uni-text",{staticClass:"tit"},[t._v(t._s(i.name))]),e("v-uni-view",{staticClass:"row justify-content"},[e("v-uni-view",{staticClass:"row-left"},[e("i",{staticClass:"hxicon-favorfill "}),e("v-uni-text",{staticClass:"t1"},[t._v(t._s(i.score))]),e("v-uni-text",{staticClass:"t2"},[t._v("Ventas mensuales:"+t._s(i.monthly_sales))])],1),e("v-uni-view",{staticClass:"row-right"},[e("i",{staticClass:"hxicon-locationfill"}),e("v-uni-text",[t._v(t._s(i.distance)+"500")])],1)],1),e("v-uni-view",{staticClass:"row"},[e("v-uni-text",[t._v("Pedido mínimo:$"+t._s(i.min_order_amount))]),i.delivery_fee>0?e("v-uni-text",{staticClass:"t2"},[t._v("Entrega:$"+t._s(i.delivery_fee))]):e("v-uni-text",{staticClass:"t2"},[t._v("Entrega gratuita")])],1)],1)],1)],1)})),1):t._e(),t.goodsList.length?e("v-uni-view",{staticClass:"wrap"},[e("v-uni-view",{staticClass:"grid"},t._l(t.goodsList,(function(i){return e("v-uni-view",{key:i.id,staticClass:"card",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.jump_product(i.id)}}},[e("v-uni-image",{staticClass:"thumb",attrs:{src:i.image,mode:"aspectFill"}}),e("v-uni-text",{staticClass:"title"},[t._v(t._s(i.name))]),e("v-uni-text",{staticClass:"title",staticStyle:{color:"red"}},[t._v(t._s(i.real_price))])],1)})),1)],1):t._e(),0===t.goodsList.length&&0===t.storeList.length?e("v-uni-view",{staticClass:"nullOrder"},[e("v-uni-image",{attrs:{src:o("586b"),mode:""}}),e("v-uni-text",{staticClass:"tit"},[t._v("No hay pedidos")])],1):t._e()],1):t._e()},n=[]},a18c:function(t,i,o){var e=o("c95f");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=o("967d").default;a("3acac1bc",e,!0,{sourceMap:!1,shadowMode:!1})},c95f:function(t,i,o){var e=o("c86c");i=e(!1),i.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/uni-page-body[data-v-67b478ab]{background-color:#f8f8f8}body.?%PAGE?%[data-v-67b478ab]{background-color:#f8f8f8}.b-b[data-v-67b478ab]{position:relative}.b-b[data-v-67b478ab]:after,\n.b-t[data-v-67b478ab]:after{position:absolute;z-index:3;left:0;right:0;height:0;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);border-bottom:1px solid #e4e7ed}.b-b[data-v-67b478ab]:after{bottom:0}.b-t[data-v-67b478ab]:after{top:0}.container[data-v-67b478ab]{margin:0 15px}.margin-top[data-v-67b478ab]{margin-top:12px}.head-box[data-v-67b478ab]{padding:14px 0;background:linear-gradient(100deg,#ffeb3b,#ffc107);position:relative;z-index:3}.head-box .navbar[data-v-67b478ab]{position:-webkit-sticky;position:sticky;top:0;height:0}.head-box .container[data-v-67b478ab]{display:flex;flex-direction:row;justify-content:space-between;height:32px;align-items:center}.head-box .container .left .logo[data-v-67b478ab]{width:32px;height:32px}.head-box .container .left .logo uni-image[data-v-67b478ab]{width:32px;height:32px;border-radius:50%}.head-box .container .right[data-v-67b478ab]{display:flex;flex-direction:row;color:#333;align-items:center}.head-box .container .right .address-box[data-v-67b478ab]{font-size:14px;margin-right:16px;display:flex;flex-direction:row;align-items:center}.head-box .container .right .address-box uni-text[data-v-67b478ab]{margin-left:2px;margin-right:4px}.head-box .container .right .address-box .icon-right[data-v-67b478ab]{position:relative;top:2px}.head-box .container .right .notice[data-v-67b478ab]{font-weight:700;font-size:18px}.search-box[data-v-67b478ab]{position:-webkit-sticky;position:sticky;top:0;z-index:2;padding-top:0;margin-top:calc(0px * -1)}.search-box .ctn[data-v-67b478ab]{border-top-left-radius:%?50?%;border-top-right-radius:%?50?%;background:#f8f8f8;padding:15px 15px 12px 5px;display:flex}.search-box .ctn .ctn_fist[data-v-67b478ab]{line-height:34px;font-size:22px;color:#aca7a7}.search-box .ctn .hx-search-box[data-v-67b478ab]{border-radius:40px;padding:0 15px;height:34px;display:flex;align-items:center;line-height:%?44?%;background-color:#eee;flex:1;color:#888;font-size:14px;margin-left:5px}.QZBG[data-v-67b478ab]{background:#fff;box-shadow:0 1px 6px #ccc}.QZBG .navbar[data-v-67b478ab]{height:0}.QZBG .ctn[data-v-67b478ab]{background:#fff}.hot-box[data-v-67b478ab]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start}.hot-box .item[data-v-67b478ab]{margin-right:12px;background-color:#eee;color:#666;font-size:12px;border-radius:20px;padding:2px 6px;margin-bottom:8px}.hot-box .item[data-v-67b478ab]:last-child{margin-right:0}.bannerimg-box[data-v-67b478ab]{border-bottom-left-radius:%?10?%;border-bottom-right-radius:%?10?%;padding:%?24?%}.bannerimg-box uni-swiper[data-v-67b478ab]{height:%?400?%!important;width:100%}.bannerimg-box .swiper-item[data-v-67b478ab]{display:flex;justify-content:center;align-content:center;overflow:hidden;width:100%;height:100%}.bannerimg-box .swiper-item .swiper-item-image[data-v-67b478ab]{border-radius:8px;height:100%!important;width:100%}.bannerimg-box .swiper-item uni-image[data-v-67b478ab]{border-radius:8px;height:100%;width:100%}.menu-box[data-v-67b478ab]{display:flex;flex-direction:row;justify-content:space-between;margin-top:12px;border-radius:8px;background:#fff;padding:12px 8px}.menu-box .item-box[data-v-67b478ab]{display:flex;flex-direction:column;justify-content:center;align-items:center}.menu-box .item-box uni-image[data-v-67b478ab]{width:40px;height:40px}.menu-box .item-box .tit[data-v-67b478ab]{display:flex;justify-content:center;align-items:center;font-size:12px;margin-top:6px;color:#333;padding:2px 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.menu-box .item-box .active[data-v-67b478ab]{color:#fff;background-color:#999;border-radius:60px}.sort-box[data-v-67b478ab]{display:flex;flex-direction:row;margin-top:12px}.sort-box .item-box[data-v-67b478ab]{margin-right:16px}.sort-box .item-box .tit[data-v-67b478ab]{display:flex;justify-content:center;align-items:center;font-size:12px;color:#333;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sort-box .item-box .active[data-v-67b478ab]{font-weight:700}.store-box[data-v-67b478ab]{margin-top:20px}.store-box .item-box[data-v-67b478ab]{display:flex;flex-direction:column;margin-bottom:14px;padding-bottom:18px;padding-top:18px;background-color:#fff}.store-box .item-box .top-box[data-v-67b478ab]{display:flex;flex-direction:row}.store-box .item-box .top-box .left[data-v-67b478ab]{margin-right:10px}.store-box .item-box .top-box .left uni-image[data-v-67b478ab]{width:72px;height:54px;border-radius:6px}.store-box .item-box .top-box .right[data-v-67b478ab]{flex:1}.store-box .item-box .top-box .right .tit[data-v-67b478ab]{font-size:16px;font-weight:700;color:#333;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.store-box .item-box .top-box .right .justify-content[data-v-67b478ab]{display:flex;flex-direction:row;justify-content:space-between}.store-box .item-box .top-box .right .row[data-v-67b478ab]{font-size:12px;color:#999;margin-top:4px}.store-box .item-box .top-box .right .row .row-left[data-v-67b478ab]{display:flex;flex-direction:row}.store-box .item-box .top-box .right .row .row-left .t1[data-v-67b478ab], .store-box .item-box .top-box .right .row .row-left i[data-v-67b478ab]{color:#ffca3e}.store-box .item-box .top-box .right .row .t2[data-v-67b478ab]{margin-left:12px}.store-box .item-box .top-box .right .row .row-right[data-v-67b478ab]{display:flex;flex-direction:row}.store-box .item-box .top-box .right .row .row-right i[data-v-67b478ab]{margin-right:4px}.store-box .item-box .bottom-box-container[data-v-67b478ab]{margin:12px 0 0;padding-left:82px;white-space:nowrap}.store-box .item-box .bottom-box-container .goods-box[data-v-67b478ab]{width:80px;margin-left:12px;display:inline-block}.store-box .item-box .bottom-box-container .goods-box .img-box[data-v-67b478ab]{position:relative;width:80px;height:60px;background-color:#f1f1f1;border-radius:4px}.store-box .item-box .bottom-box-container .goods-box .img-box uni-image[data-v-67b478ab]{width:100%;height:60px}.store-box .item-box .bottom-box-container .goods-box .img-box .tag[data-v-67b478ab]{position:absolute;bottom:0;left:0;background-color:#ff5722;color:#fff;padding:2px 4px;font-size:12px;border-radius:4px}.store-box .item-box .bottom-box-container .goods-box .tit[data-v-67b478ab]{font-size:14px;margin-top:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.store-box .item-box .bottom-box-container .goods-box .price-box[data-v-67b478ab]{margin-top:4px}.store-box .item-box .bottom-box-container .goods-box .price-box .txt1[data-v-67b478ab]{font-size:10px;color:#ff5722}.store-box .item-box .bottom-box-container .goods-box .price-box .txt2[data-v-67b478ab]{font-size:16px;color:#ff5722}.store-box .item-box .bottom-box-container .goods-box .price-box .txt3[data-v-67b478ab]{margin-left:6px;font-size:10px;color:#bbb;text-decoration:line-through}.store-box .item-box .bottom-box-container .goods-box[data-v-67b478ab]:last-child{margin-right:12px}.store-box .item-box[data-v-67b478ab]:last-child{border-bottom:0}.foot[data-v-67b478ab]{position:relative;display:flex;justify-content:center;margin-top:36px;margin-bottom:50px}.foot uni-text[data-v-67b478ab]{font-size:14px;position:relative;z-index:2;height:20px;line-height:20px;background-color:#f8f8f8;color:#ccc;padding:0 12px}.foot[data-v-67b478ab]::before{content:"";z-index:1;display:block;position:absolute;top:50%;height:0;width:100%;-webkit-transform:scaleY(.5);transform:scaleY(.5);border-bottom:1px solid #e4e7ed}.footzw[data-v-67b478ab]{height:50px}.tabs-box[data-v-67b478ab]{display:flex;justify-content:center;align-items:center;width:100%;position:-webkit-sticky;position:sticky;z-index:10;background-color:#fff;height:50px;padding-bottom:10px}.tabs-box .hx-tabs[data-v-67b478ab]{position:relative;display:flex;height:100%;width:100%;justify-content:space-evenly}.tabs-box .hx-tabs-item[data-v-67b478ab]{display:flex;flex:1;flex-direction:row;justify-content:center;align-items:center;width:70px;color:#666}.tabs-box .hx-tabs-item uni-text[data-v-67b478ab]{font-size:16px}.tabs-box .hx-tabs-active[data-v-67b478ab]{color:#333;font-weight:700}.tabs-box .hx-tabs-slider-box[data-v-67b478ab]{position:absolute;display:flex;justify-content:center;bottom:0;width:20%}.tabs-box .hx-tabs-slider[data-v-67b478ab]{display:flex;background:#f6d200;width:30px;height:3px}.wrap[data-v-67b478ab]{padding:12px;box-sizing:border-box}\n/* 网格：一行两个 */.grid[data-v-67b478ab]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px\n  /* 卡片间距 */}\n/* 单个卡片 */.card[data-v-67b478ab]{background:#fff;border-radius:8px;overflow:hidden;text-align:center;\n  /* 手指触感（可选） */-webkit-tap-highlight-color:transparent;box-shadow:0 1px 3px rgba(0,0,0,.06);padding-bottom:8px}\n/* 图片 - 固定宽高比（1:1） */.thumb[data-v-67b478ab]{width:100%;height:auto;padding-top:100%;\n  /* 1:1 比例盒子 */display:block;object-fit:cover\n  /* aspectFill 效果 */}\n/* 这里我们使用绝对定位把图片放入比例盒（uni-app Image 在 padding 技巧里不生效时可直接指定高度） */.thumb[data-v-67b478ab]{position:relative;padding-top:0;\n  /* 取消上面的 padding-top，使用高度替代（uni-app 更好兼容） */height:140px\n  /* 你可以调整为 vw/％ 或者 media query 以适配不同屏幕 */}\n/* 名称 */.title[data-v-67b478ab]{display:-webkit-box;-webkit-line-clamp:2;\n  /* 最多两行 */-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;font-size:14px;color:#333;margin:8px 8px 0 8px;line-height:1.2;text-align:left}.nullOrder[data-v-67b478ab]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:40px auto}.nullOrder uni-image[data-v-67b478ab]{width:283px;height:200px}.nullOrder .tit[data-v-67b478ab]{display:flex;flex-direction:column;font-size:16px;font-weight:700;color:#555;margin-top:6px}',""]),t.exports=i},d37a:function(t,i,o){"use strict";var e=o("a18c"),a=o.n(e);a.a},d858:function(t,i,o){"use strict";o.r(i);var e=o("9eb4"),a=o("e450");for(var n in a)["default"].indexOf(n)<0&&function(t){o.d(i,t,(function(){return a[t]}))}(n);o("d37a");var s=o("828b"),r=Object(s["a"])(a["default"],e["b"],e["c"],!1,null,"67b478ab",null,!1,e["a"],void 0);i["default"]=r.exports},e450:function(t,i,o){"use strict";o.r(i);var e=o("0da5"),a=o.n(e);for(var n in e)["default"].indexOf(n)<0&&function(t){o.d(i,t,(function(){return e[t]}))}(n);i["default"]=a.a}}]);